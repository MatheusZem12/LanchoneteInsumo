# H2 datasource (in-memory) - profile: dev
spring.datasource.url=jdbc:h2:mem:lanchonete;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=nicolas
spring.datasource.password=

# JPA / Hibernate
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false
logging.level.org.hibernate.SQL=WARN
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=WARN

# Adiar inicialização de scripts SQL até após o JPA/Hibernate gerar o schema
spring.jpa.defer-datasource-initialization=true

# H2 console
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console
spring.h2.console.settings.web-allow-others=false

# Optional: keep actuator endpoints exposed locally if needed
# management.endpoints.web.exposure.include=*

# ========================================
# Configurações de E-mail (SMTP Gmail)
# ========================================
# ATENÇÃO: Credenciais configuradas apenas para ambiente DEV/Teste Local
# Para produção, use variáveis de ambiente ou cofre de segredos

# Servidor SMTP do Gmail
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=matheuslajazem@gmail.com
# IMPORTANTE: Use uma App Password do Google, não a senha normal da conta!
# Acesse: https://myaccount.google.com/apppasswords
spring.mail.password=cijtelspvelpaafu
spring.mail.default-encoding=UTF-8

# Propriedades do protocolo SMTP
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.connectiontimeout=10000
spring.mail.properties.mail.smtp.timeout=10000
spring.mail.properties.mail.smtp.writetimeout=10000

# Propriedades adicionais para debug e compatibilidade
spring.mail.properties.mail.debug=true
spring.mail.properties.mail.transport.protocol=smtp
spring.mail.properties.mail.smtp.ssl.trust=smtp.gmail.com
# Adicionar esta propriedade para melhor compatibilidade
spring.mail.properties.mail.smtp.ssl.protocols=TLSv1.2

# Destinatários dos alertas (separados por vírgula)
lanchonete.email.send=matheuslajazem@gmail.com

# Security
security.client-id=${CLIENT_ID:myclientid}
security.client-secret=${CLIENT_SECRET:myclientsecret}
security.jwt.duration=${JWT_DURATION:86400}
cors.origins=${CORS_ORIGINS:http://localhost:3000,http://localhost:4200,http://localhost:5173,http://26.85.117.217:5173}

# Google OAuth2 Configuration
google.oauth2.client-id=cijt elsp velp aafu
