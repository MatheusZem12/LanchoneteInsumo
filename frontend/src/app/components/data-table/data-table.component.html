<p-table 
  #dt
  [value]="data" 
  [paginator]="true" 
  [rows]="10"
  [showCurrentPageReport]="true"
  [rowsPerPageOptions]="[10, 25, 50]"
  [globalFilterFields]="globalFilterFields"
  currentPageReportTemplate="Mostrando {first} a {last} de {totalRecords} registros"
  [tableStyle]="{ 'min-width': '50rem' }">
  
  <ng-template pTemplate="caption">
    <div style="display: flex; align-items: center; width: 100%; gap: 1rem; justify-content: space-between;">
      <div style="display: flex; align-items: center; gap: 1rem;">
        <div style="min-width: 200px;">
          <p-iconField iconPosition="left">
            <p-inputIcon styleClass="pi pi-search" />
            <input 
              pInputText 
              type="text" 
              (input)="dt.filterGlobal(getInputValue($event), 'contains')" 
              placeholder="Buscar..." />
          </p-iconField>
        </div>
        <!-- Adicione aqui o botão de movimentação, se existir -->
        <ng-content select="[movimentacao-btn]"></ng-content>
      </div>
      <div>
        <p-button 
          *ngIf="showAddButton"
          icon="pi pi-plus" 
          label="Adicionar" 
          (onClick)="add.emit()"
          severity="success">
        </p-button>
      </div>
    </div>
  </ng-template>

  <ng-template pTemplate="header">
    <tr>
      <th *ngFor="let col of columns" [pSortableColumn]="col.field">
        {{ col.header }}
        <p-sortIcon [field]="col.field"></p-sortIcon>
      </th>
      <th *ngIf="showActions">Ações</th>
    </tr>
  </ng-template>

  <ng-template pTemplate="body" let-rowData>
    <tr>
      <td *ngFor="let col of columns">
        {{ rowData[col.field] }}
      </td>
      <td *ngIf="showActions">
        <p-button 
          icon="pi pi-pencil" 
          (onClick)="edit.emit(rowData)"
          [rounded]="true"
          [text]="true"
          severity="info"
          class="mr-2">
        </p-button>
        <p-button 
          icon="pi pi-trash" 
          (onClick)="delete.emit(rowData)"
          [rounded]="true"
          [text]="true"
          severity="danger">
        </p-button>
      </td>
    </tr>
  </ng-template>

  <ng-template pTemplate="emptymessage">
    <tr>
      <td [attr.colspan]="columns.length + (showActions ? 1 : 0)">
        Nenhum registro encontrado.
      </td>
    </tr>
  </ng-template>
</p-table>
